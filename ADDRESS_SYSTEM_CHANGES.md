# üìç –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∞–¥—Ä–µ—Å–æ–≤ –∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

## üéØ –¶–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π

–û–±–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- ‚ùå –£–±—Ä–∞—Ç—å –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå –£–±—Ä–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ —É–ª–∏—Ü –ø—Ä–∏ –≤–≤–æ–¥–µ –∞–¥—Ä–µ—Å–∞  
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –∑–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ –û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –û—Ç–∫–ª—é—á–µ–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ (‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ)
**–§–∞–π–ª:** `checkout-app.js`
- –û—Ç–∫–ª—é—á–µ–Ω –≤—ã–∑–æ–≤ `loadLastDeliveryAddress()` –≤ –º–µ—Ç–æ–¥–µ `init()`
- –ê–¥—Ä–µ—Å –±–æ–ª—å—à–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤
- –ü–æ–ª–µ –∞–¥—Ä–µ—Å–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—É—Å—Ç—ã–º

### 2. –£–¥–∞–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ —É–ª–∏—Ü (‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ)
**–§–∞–π–ª—ã:** `checkout-app.js`, `checkout.html`

#### –í JavaScript:
- –ú–µ—Ç–æ–¥ `loadAddressSuggestions()` - –æ—Ç–∫–ª—é—á–µ–Ω
- –ú–µ—Ç–æ–¥ `displayAddressSuggestions()` - –æ—Ç–∫–ª—é—á–µ–Ω (—Å–∫—Ä—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–¥—Å–∫–∞–∑–æ–∫)
- –í `handleAddressInput()` —É–±—Ä–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫
- –í `setupAddressInput()` —É–¥–∞–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º

#### –í HTML:
- –£–¥–∞–ª–µ–Ω —ç–ª–µ–º–µ–Ω—Ç `<div class="address-suggestions" id="address-suggestions"></div>`
- –û–±–Ω–æ–≤–ª–µ–Ω —Ç–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏: "–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏. –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏."

### 3. –£–ª—É—á—à–µ–Ω–∞ –∑–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ (‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ)
**–§–∞–π–ª:** `checkout-app.js`

#### –ú–µ—Ç–æ–¥ `calculateDeliveryCost()`:
- ‚úÖ –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –∑–æ–Ω–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ü–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–æ–Ω–µ –¥–æ—Å—Ç–∞–≤–∫–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –≤—Ä–µ–º—è)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ Fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å (250‚ÇΩ) –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ —Å—Ç–∞—Ç—É—Å–µ –¥–æ—Å—Ç–∞–≤–∫–∏

#### –ú–µ—Ç–æ–¥ `updateDeliveryPrice()`:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏–ª–∏ "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ"
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏

#### –ù–æ–≤—ã–π –º–µ—Ç–æ–¥ `showDeliveryMessage()`:
- ‚úÖ –ü–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –æ —Å—Ç–∞—Ç—É—Å–µ –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram API –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 4. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ)
**–§–∞–π–ª:** `checkout-app.js`

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞:
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∞ 500ms –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ –∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è `blur` –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞
- ‚úÖ –°–±—Ä–æ—Å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∫–æ—Ä–æ—Ç–∫–æ–º –∞–¥—Ä–µ—Å–µ (<3 —Å–∏–º–≤–æ–ª–æ–≤)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å fallback

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –¥–æ—Å—Ç–∞–≤–∫–∏:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É
- ‚úÖ –°–±—Ä–æ—Å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–∞–º–æ–≤—ã–≤–æ–∑–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è—Ö

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### API Integration
- **–≠–Ω–¥–ø–æ–∏–Ω—Ç:** `/delivery/estimate?address={address}&orderAmount={amount}`
- **–ú–µ—Ç–æ–¥:** `this.api.calculateDeliveryCost(address, orderAmount)`
- **Backend:** –ó–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `DeliveryZoneService`

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
```javascript
// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤–≤–æ–¥–µ
addressInput.addEventListener('input', this.debounce((e) => {
    this.handleAddressInput(e.target.value);
}, 500));

// –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞
addressInput.addEventListener('blur', (e) => {
    if (e.target.value.length >= 3) {
        this.handleAddressInput(e.target.value);
    }
});
```

### –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏
```javascript
if (data && data.deliveryAvailable === true) {
    this.deliveryCost = data.deliveryCost || 0;
    // –ü–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–æ–Ω–µ –∏ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
} else if (data && data.deliveryAvailable === false) {
    this.deliveryCost = 0;
    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
} else {
    this.deliveryCost = 250; // Fallback —Å—Ç–æ–∏–º–æ—Å—Ç—å
}
```

## üéõÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- –ê–¥—Ä–µ—Å –∑–∞–ø–æ–º–∏–Ω–∞–ª—Å—è –∏ –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω—è–ª—Å—è
- –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ —É–ª–∏—Ü
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ –ü–æ–ª–µ –∞–¥—Ä–µ—Å–∞ –≤—Å–µ–≥–¥–∞ –ø—É—Å—Ç–æ–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∏ —É–ª–∏—Ü –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ –∑–æ–Ω–∞–º
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –¥–æ—Å—Ç–∞–≤–∫–∏

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- `üöó Calculating delivery cost for: {address}`
- `üìä Delivery zone response: {data}`
- `‚úÖ Delivery cost calculated: {cost}‚ÇΩ (Zone: {zone})`
- `üéâ Free delivery! (Order amount {amount}‚ÇΩ >= {threshold}‚ÇΩ)`
- `üîÑ Address changed, recalculating delivery cost...`

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å:
1. ‚ùå **–ù–ï –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç** –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. ‚ùå **–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** –ø–æ–¥—Å–∫–∞–∑–∫–∏ —É–ª–∏—Ü –ø—Ä–∏ –≤–≤–æ–¥–µ
3. ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç** —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ —á–µ—Ä–µ–∑ –∑–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
4. ‚úÖ **–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞
5. ‚úÖ **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –æ –∑–æ–Ω–∞—Ö –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏
6. ‚úÖ **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏** —Å fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å

---
*–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã: 2025-01-27*
*–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã: checkout-app.js, checkout.html*
