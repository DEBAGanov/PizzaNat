# üìù –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–∑—ã–≤–æ–≤ –≤ –∞–¥–º–∏–Ω—Å–∫–æ–º –±–æ—Ç–µ

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: $(date '+%d.%m.%Y')  
**–¶–µ–ª—å**: –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "üìù –û—Ç–∑—ã–≤" –≤ –∫–∞–∂–¥—ã–π –∑–∞–∫–∞–∑ –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ç–∑—ã–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. üîò –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üìù –û—Ç–∑—ã–≤" –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏

#### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `src/main/java/com/baganov/pizzanat/telegram/PizzaNatAdminBot.java`
- `src/main/java/com/baganov/pizzanat/service/TelegramAdminNotificationServiceImpl.java`

#### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:
```java
// –í –º–µ—Ç–æ–¥ createOrderManagementKeyboard –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –æ—Ç–∑—ã–≤–∞
List<InlineKeyboardButton> row4 = new ArrayList<>();
row4.add(createButton("üìã –î–µ—Ç–∞–ª–∏", "order_details_" + orderId));
row4.add(createButton("üìù –û—Ç–∑—ã–≤", "order_review_" + orderId));  // ‚Üê –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê
```

### 2. üéØ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ callback'–∞ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–∑—ã–≤–∞

#### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `src/main/java/com/baganov/pizzanat/telegram/AdminBotCallbackHandler.java`
- `src/main/java/com/baganov/pizzanat/service/AdminBotService.java`

#### –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
```java
// –í AdminBotCallbackHandler –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ callback'–∞
else if (callbackData.startsWith("order_review_")) {
    adminBotService.handleOrderReviewRequest(chatId, callbackData);
}

// –í AdminBotService –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã:
public void handleOrderReviewRequest(Long chatId, String callbackData)
private void sendReviewRequestToUser(Order order)
```

### 3. üíå –î–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

#### –§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω:
- `src/main/java/com/baganov/pizzanat/service/TelegramUserNotificationService.java`

#### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
```java
public void sendReviewRequestNotification(Order order)
private String formatReviewRequestMessage(Order order)
```

## üìã –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```
–ê–¥–º–∏–Ω –Ω–∞–∂–∏–º–∞–µ—Ç "üìù –û—Ç–∑—ã–≤" –≤ –∑–∞–∫–∞–∑–µ
         ‚Üì
AdminBotCallbackHandler.handleCallback()
         ‚Üì
AdminBotService.handleOrderReviewRequest()
         ‚Üì
TelegramUserNotificationService.sendReviewRequestNotification()
         ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç @DIMBOpizzaBot
```

### 2. –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```
‚≠ê –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏ –æ –∑–∞–∫–∞–∑–µ!

üìã –ó–∞–∫–∞–∑ #123
üìÖ –î–∞—Ç–∞: 06.09.2025 22:44

üõí –°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:
   ‚Ä¢ –ì—Ä–∏–±–Ω–∞—è –ø–∏—Ü—Ü–∞ x9
   ‚Ä¢ –ü–∏—Ü—Ü–∞ –ü–µ–ø–ø—Ä–æ–Ω–∏ x1

üçï –ù–∞–º –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –≤–∞—à–µ –º–Ω–µ–Ω–∏–µ!
–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è –ª–∏ –≤–∞–º –∑–∞–∫–∞–∑, –∏ –ø–æ–º–æ–≥–∏—Ç–µ –Ω–∞–º —Å—Ç–∞—Ç—å –µ—â–µ –ª—É—á—à–µ.

üëÜ –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤:
üîó –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–æ—Ä–º–µ –æ—Ç–∑—ã–≤–∞

üíô –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –≤—ã–±–∏—Ä–∞–µ—Ç–µ –î–ò–ú–ë–û –ü–ò–¶–¶–ê!
```

### 3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
```
‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–∑—ã–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

üìã –ó–∞–∫–∞–∑ #123
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: Vladimir Baganov
üì± Telegram ID: 123456789
```

## üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ä–º—É –æ—Ç–∑—ã–≤–∞
**URL**: https://ya.cc/t/ldDY0YvB7VsBa8

–°—Å—ã–ª–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞–∫ HTML-—Å—Å—ã–ª–∫–∞ –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –≤ Telegram.

## üõ°Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –¢–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ—Ç–∑—ã–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –º–µ—Ç–æ–¥–µ `isRegisteredAdmin()`

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞–∫–∞–∑–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –æ—à–∏–±–∫–∞ "‚ùå –ó–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω"

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ Telegram ID —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–∫–∞–∑–∞
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ID –≤—ã–≤–æ–¥–∏—Ç—Å—è –æ—à–∏–±–∫–∞ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–±—ã—Ç–∏—è –∫–æ—Ç–æ—Ä—ã–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:
```java
log.info("–ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–∑—ã–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {} –¥–ª—è –∑–∞–∫–∞–∑–∞ #{}", 
    order.getUser().getTelegramId(), order.getId());

log.error("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –æ—Ç–∑—ã–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–ª—è –∑–∞–∫–∞–∑–∞ #{}: {}", 
    order.getId(), e.getMessage(), e);
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∞–¥–º–∏–Ω–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ü–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### 2. ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3. ‚úÖ UX –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ
- –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ä–º—É –æ—Ç–∑—ã–≤–∞

### 4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Ç–µ–∫—É—â–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ:
1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –±–æ—Ç–æ–≤ (–∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∞–Ω–∞–ª–∏–∑–µ)
2. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –∑–∞–∫–∞–∑–µ

---

**‚ö° –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –∏ –æ–∂–∏–¥–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!**
