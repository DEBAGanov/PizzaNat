# PizzaNat - Вопросы по архитектуре

## Бизнес-требования

1. **Стратегия роста:**
   - Каковы планы по расширению ассортимента продукции помимо пиццы?
 В ближайшей перспективе планируется расширение ассортимента на напитки, десерты и закуски. Система уже имеет необходимую структуру категорий для этого. В дальнейшем возможно добавление комбо-наборов и специальных сезонных предложений.

   - Планируется ли выход на международный рынок, и если да, то какие требования к локализации и мультивалютности?
  нет

   - Какие целевые показатели по количеству пользователей и заказов в день/месяц?
   1-2 заказа в день.

1. **Функциональность:**
   - Требуется ли реализация программы лояльности (бонусы, скидки)?
   Да, запланирована базовая программа лояльности с накоплением баллов за заказы (1% от суммы заказа), возможностью получения статусных уровней и персональных предложений. Система скидок будет включать промокоды, сезонные и праздничные акции.

   - Нужна ли возможность предварительного заказа на определенное время?
   Да, функция предварительного заказа необходима. Пользователи смогут выбирать дату и временной интервал доставки до 7 дней вперед, с возможностью изменения заказа не позднее чем за 2 часа до выбранного времени.

   - Будет ли реализована функция отслеживания доставки в реальном времени?
   нет
   - Требуется ли интеграция с системами аналитики (Google Analytics, Яндекс.Метрика)?
   нет


## Технические вопросы

1. **Безопасность:**
   - Какие стандарты безопасности должны быть соблюдены (PCI DSS для платежей)?
   - Требуются ли дополнительные меры защиты персональных данных?
   - Нужно ли реализовать двухфакторную аутентификацию?

2. **Производительность:**
   - Какие требования к времени отклика API (максимально допустимая задержка)?
 Целевые показатели: 95% запросов должны обрабатываться менее чем за 200 мс, 99% - менее чем за 500 мс. Максимально допустимая задержка - 1 секунда для стандартных операций и 3 секунды для комплексных (формирование отчетов, обработка заказа).

   - Какие пиковые нагрузки ожидаются в системе?
   Система должна выдерживать пики до 100 одновременных пользователей и до 10 заказов в минуту. Наибольшие пики ожидаются в праздничные дни, выходные вечера и во время маркетинговых акций.

   - Какие данные критически важно кэшировать?
   Критически важно кэшировать: каталог товаров, категории, популярные товары, данные для главной страницы, результаты часто выполняемых запросов. Время жизни кэша должно варьироваться в зависимости от типа данных (от 1 минуты для данных корзины до 1 часа для каталога).

3. **Интеграции:**
   - С какими конкретными платежными системами планируется интеграция?
   Робокасса https://robokassa.com/ и оплпта наличными при получении
   - Требуется ли интеграция с CRM-системами?
   нет
   - Нужна ли интеграция со службами доставки?
   нет

   - Планируется ли интеграция с системами IP-телефонии для обработки звонков?
   нет

4. **Хранение данных:**
   - Какие требования к долговременному хранению данных о заказах?
    нет
   - Нужно ли реализовать механизм архивации старых данных?
   нет
   - Какая стратегия резервного копирования будет использоваться?
   нет

## Инфраструктурные вопросы

1. **Деплой:**
   - В каком облачном окружении будет развернуто приложение?
   на сервере time web cloud.https://timeweb.cloud/ через Doc
   ker Compose
   - Каковы требования к непрерывной доступности сервиса (SLA)?
  Целевой SLA - 99.9% доступности (не более 43.8 минут простоя в месяц). Для достижения этого показателя будет реализована отказоустойчивая архитектура с автоматическим масштабированием и восстановлением при сбоях.

   - Планируется ли использование Kubernetes для оркестрации контейнеров?
    На начальном этапе будет использоваться Docker Compose для простоты деплоя. В дальнейшем, при росте нагрузки и необходимости более гибкого масштабирования

2. **Мониторинг:**
   - Какие конкретные метрики бизнеса нужно отслеживать?
      не нужно

   - Требуется ли создание специализированных дашбордов для разных ролей?
 не нужно

   - Какие оповещения критически важны для немедленной реакции?
   не нужно

## Вопросы по масштабированию

1. **Горизонтальное масштабирование:**
   - Какие компоненты системы должны масштабироваться в первую очередь?
    В первую очередь должны масштабироваться: API-серверы, обрабатывающие пользовательские запросы; сервисы обработки заказов; база данных (через репликацию для чтения). Компоненты, работающие с файлами и изображениями, также должны быть готовы к масштабированию.

   - Требуется ли поддержка нескольких регионов (географическое распределение)?
   нет
   - Какая стратегия шардирования данных предпочтительна?
   нет

1. **Микросервисы:**
   - По каким критериям следует разделять монолит на микросервисы в будущем?
   Критерии разделения: бизнес-домены (управление пользователями, каталог, корзина, заказы, оплата, доставка); различная интенсивность нагрузки на компоненты; разные требования к масштабированию; отдельные команды разработки для разных компонентов.

   - Какая стратегия межсервисного взаимодействия предпочтительна (REST, gRPC, сообщения)?

   Гибридный подход: синхронное взаимодействие через REST/gRPC для запросов, требующих немедленного ответа; асинхронное взаимодействие через сообщения (Kafka/RabbitMQ) для событий и операций, не требующих мгновенного ответа.

   - Как организовать согласованность данных между сервисами?
   Использование паттерна Saga для транзакций, затрагивающих несколько сервисов; событийно-ориентированная архитектура для синхронизации состояний; возможное применение паттерна CQRS с отдельными моделями для чтения и записи.

## Мобильное и веб-приложение

1. **Требования к клиентам:**
   - Какие платформы должны поддерживаться (iOS, Android, Web)?
   Необходима поддержка всех основных платформ: Web (адаптивный дизайн для десктопов и мобильных устройств), iOS (iPhone, iPad), Android (смартфоны и планшеты). Минимальные поддерживаемые версии: iOS 13+, Android 7.0+.

   - Требуется ли поддержка оффлайн-режима в мобильных приложениях?
   Да, мобильные приложения должны поддерживать базовую функциональность в оффлайн-режиме: просмотр каталога, добавление товаров в корзину, сохранение черновика заказа. При восстановлении соединения должна происходить синхронизация с сервером.

   - Какие требования к push-уведомлениям?
   Push-уведомления должны использоваться для: информирования о статусе заказа, специальных предложениях, акциях, напоминаниях о брошенной корзине. Пользователь должен иметь возможность управлять категориями получаемых уведомлений.

2. **UX/UI:**
   - Существует ли уже дизайн-система или бренд-бук?
   - Какие особые требования к доступности (accessibility) интерфейса?
   - Требуется ли поддержка тёмной темы?
   Да, требуется реализация светлой и темной темы с возможностью выбора пользователем или автоматическим переключением в зависимости от системных настроек устройства.

## Административные вопросы

1. **Управление проектом:**
   - Какая методология разработки будет использоваться (Agile, Scrum, Kanban)?
   - Какие инструменты для управления проектом предпочтительны?
   - Какие роли будут в команде разработки?

2. **Юридические аспекты:**
   - Какие лицензии следует использовать для сторонних библиотек?
   - Существуют ли юридические ограничения на хранение и обработку данных?
   - Требуется ли соответствие определенным стандартам или регуляторным требованиям?