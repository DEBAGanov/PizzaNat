# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Mini App –¥–ª—è PizzaNat

## –û–±–∑–æ—Ä

–î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Telegram Mini App –¥–ª—è PizzaNat –ø–æ –æ–±—Ä–∞–∑—Ü—É @DurgerKingBot.

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚úÖ –ë—ç–∫–µ–Ω–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **TelegramWebAppController** - REST API –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ WebApp
- **TelegramWebAppService** - —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ Telegram initData
- **DTO –º–æ–¥–µ–ª–∏** - TelegramWebAppAuthRequest, TelegramWebAppInitData, TelegramWebAppUser
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API** - –∫–æ—Ä–∑–∏–Ω–∞, –∑–∞–∫–∞–∑—ã, –ø–ª–∞—Ç–µ–∂–∏ YooKassa

### ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã  
- **HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (`/miniapp/index.html`) - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –ø–æ –æ–±—Ä–∞–∑—Ü—É @DurgerKingBot
- **CSS —Å—Ç–∏–ª–∏** (`/miniapp/styles.css`) - —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Telegram —Ü–≤–µ—Ç–æ–≤
- **JavaScript API** (`/miniapp/api.js`) - –º–æ–¥—É–ª—å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º
- **JavaScript –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (`/miniapp/app.js`) - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ Mini App

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ Telegram WebApp initData
- **üÜï –ó–∞–ø—Ä–æ—Å –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞** —á–µ—Ä–µ–∑ `requestContact()` API (Bot API 6.9+)
- **–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤** —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º
- **–ö–æ—Ä–∑–∏–Ω–∞** —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º/—É–¥–∞–ª–µ–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–æ–≤
- **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞** —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π YooKassa
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UI** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–º Telegram

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ Mini App –≤ @BotFather

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ @BotFather –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```
/mybots
‚Üí –í—ã–±–µ—Ä–∏—Ç–µ @DIMBOpizzaBot
‚Üí Bot Settings  
‚Üí Menu Button
‚Üí Configure Menu Button
```

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Menu Button:
- **Button text**: `üçï –ó–∞–∫–∞–∑–∞—Ç—å`
- **Web App URL**: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/miniapp`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App

```
/mybots
‚Üí –í—ã–±–µ—Ä–∏—Ç–µ @DIMBOpizzaBot  
‚Üí Bot Settings
‚Üí Configure Mini App
‚Üí Enable Mini App
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **Mini App Name**: `PizzaNat`
- **Mini App Description**: `–ó–∞–∫–∞–∑ –ø–∏—Ü—Ü—ã –∏ –¥–æ—Å—Ç–∞–≤–∫–∞ –≤ –í–æ–ª–∂—Å–∫–µ`
- **Mini App URL**: `https://–≤–∞—à-–¥–æ–º–µ–Ω.com/miniapp`
- **Mini App Icon**: –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∫–æ–Ω–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (512x512 px)

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Direct Link

–°–æ–∑–¥–∞–π—Ç–µ direct link –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–≥—É:

```
https://t.me/DIMBOpizzaBot/DIMBO
```

–≠—Ç–æ—Ç –ª–∏–Ω–∫ –±—É–¥–µ—Ç —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞—Ç—å Mini App —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤.

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
# Telegram Bot
TELEGRAM_BOT_TOKEN=–≤–∞—à_–±–æ—Ç_—Ç–æ–∫–µ–Ω
TELEGRAM_BOT_USERNAME=DIMBOpizzaBot

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pizzanat_db
DB_USERNAME=pizzanat_user
DB_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å

# YooKassa (–¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π)
YOOKASSA_SHOP_ID=–≤–∞—à_shop_id
YOOKASSA_SECRET_KEY=–≤–∞—à_secret_key
```

### 2. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./gradlew build

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
docker-compose -f docker-compose.production.yml up -d

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ –Ω–∞–ø—Ä—è–º—É—é
java -jar build/libs/PizzaNat-0.0.1-SNAPSHOT.jar
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

1. **API –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**:
   ```bash
   curl https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/health
   ```

2. **Mini App –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**:
   ```bash
   curl https://–≤–∞—à-–¥–æ–º–µ–Ω.com/miniapp
   ```

3. **Telegram WebApp API**:
   ```bash
   curl -X POST https://–≤–∞—à-–¥–æ–º–µ–Ω.com/api/v1/telegram-webapp/validate-init-data \
        -H "Content-Type: application/json" \
        -d '{"initDataRaw": "test"}'
   ```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok:

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
./gradlew bootRun

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
ngrok http 8080

# –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ @BotFather –Ω–∞ –≤–∞—à ngrok URL
# –ù–∞–ø—Ä–∏–º–µ—Ä: https://abc123.ngrok.io/miniapp
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π—Ç–µ @DIMBOpizzaBot
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É `üçï –ó–∞–∫–∞–∑–∞—Ç—å` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
3. Mini App –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
   - –ó–∞–≥—Ä—É–∑–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç–æ–≤–∞—Ä–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
   - –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
   - –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ YooKassa

### 3. Direct Link —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É:
```
https://t.me/DIMBOpizzaBot/DIMBO
```

Mini App –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ä–∞–∑—É —Å –ø–æ–ª–Ω—ã–º –∫–∞—Ç–∞–ª–æ–≥–æ–º.

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: Mini App –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ HTTPS - Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ HTTPS
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ SecurityConfig

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å bot token
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ initData –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ TelegramWebAppService

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–≤–∞—Ä—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø—Ä–æ–¥—É–∫—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –≤ –ë–î
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ YooKassa
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ webhook URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –º–æ–±–∏–ª—å–Ω—ã–º–∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏

## API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã Mini App

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/v1/telegram-webapp/auth` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ initData
- `POST /api/v1/telegram-webapp/validate-init-data` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ö–∞—Ç–∞–ª–æ–≥ (—É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API)
- `GET /api/v1/categories` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `GET /api/v1/products` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- `GET /api/v1/products/category/{id}` - —Ç–æ–≤–∞—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –ö–æ—Ä–∑–∏–Ω–∞ (—É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API)
- `GET /api/v1/cart` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
- `POST /api/v1/cart/items` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
- `PUT /api/v1/cart/items/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- `DELETE /api/v1/cart/items/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

### –ó–∞–∫–∞–∑—ã (—É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API)
- `POST /api/v1/orders` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- `GET /api/v1/orders` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü–ª–∞—Ç–µ–∂–∏ (—É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–æ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API)
- `POST /api/v1/mobile/payments/create` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
- `GET /api/v1/payments/yookassa/sbp-banks` - –±–∞–Ω–∫–∏ –°–ë–ü

## –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

### ‚ùå –í–∞–∂–Ω–æ: –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ù–ï –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ü–æ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Telegram WebApp](https://core.telegram.org/bots/webapps), –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ **–ù–ï –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è** —á–µ—Ä–µ–∑ `initData` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏.

### ‚úÖ –°–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

#### 1. –ß–µ—Ä–µ–∑ `requestContact()` API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ù–∞—á–∏–Ω–∞—è —Å Bot API 6.9, –º–æ–∂–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

```javascript
// –í Mini App
if (window.Telegram?.WebApp?.requestContact) {
    window.Telegram.WebApp.requestContact();
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
    window.Telegram.WebApp.onEvent('contactRequested', (data) => {
        if (data.status === 'sent') {
            console.log('–¢–µ–ª–µ—Ñ–æ–Ω:', data.contact.phone_number);
            console.log('–ò–º—è:', data.contact.first_name);
        }
    });
}
```

#### 2. –†—É—á–Ω–æ–π –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± - —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –≤ —Å–∞–º–æ–º Mini App:

```html
<input type="tel" placeholder="+7 (999) 123-45-67" 
       pattern="[+][0-9]{11,15}" required>
```

### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ PizzaNat Mini App

–í –Ω–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **–ü—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è `requestContact()`
2. **–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≥–ª–∞—Å–∏—Ç—Å—è** - –Ω–æ–º–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ
3. **–ï—Å–ª–∏ –æ—Ç–∫–∞–∂–µ—Ç—Å—è** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–∫–∞–∑–∞—Ö** –Ω–æ–º–µ—Ä —É–∂–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ checkout
async proceedToCheckout() {
    if (this.tg?.requestContact) {
        await this.requestUserContact();
    } else {
        // Fallback - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        await this.createOrderWithStandardData();
    }
}
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –í–∞–ª–∏–¥–∞—Ü–∏—è initData

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç Telegram —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ HMAC-SHA256 –ø–æ–¥–ø–∏—Å–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ (–Ω–µ —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤)
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
- JWT —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp API

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º Telegram
- Haptic feedback
- Main Button –∏ Back Button
- Viewport management

### 4. –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ YooKassa

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –°–ë–ü (–°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç
- –í–æ–∑–≤—Ä–∞—Ç –≤ Mini App –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ** - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –±–æ–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —Å–∂–∞—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Telegram WebApp Documentation](https://core.telegram.org/bots/webapps)
- [YooKassa API](https://yookassa.ru/developers)
- [–û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](Project.md)

---

**–°–æ–∑–¥–∞–Ω–æ**: 2025-01-23  
**–ê–≤—Ç–æ—Ä**: PizzaNat Development Team  
**–í–µ—Ä—Å–∏—è**: 1.0
