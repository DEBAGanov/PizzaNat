# üí≥ –ü—Ä–æ—Å—Ç—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–ø–ª–∞—Ç–µ - –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

**–î–∞—Ç–∞**: $(date '+%d.%m.%Y')  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ**

## üéØ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–ü–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã **–ø—Ä–æ—Å—Ç—ã–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ –∑–∞–∫–∞–∑–∞:

1. **üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç** - –ø—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
2. **üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é** - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –æ—Ç @DIMBOpizzaBot

---

## üìù **–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç):**

### ü§ñ –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –≤ @DIMBOpizzaOrdersBot:
```
–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä 34 —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω 40 ‚ÇΩ (07.09.2025 21:41)
```

### üë§ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç @DIMBOpizzaBot:
```
–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä 34 —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω 40 ‚ÇΩ (07.09.2025 21:41)
```

**–ü—Ä–æ—Å—Ç–æ–π, –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç - –±–µ–∑ –ª–∏—à–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π!**

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. AdminBotService.java
**–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥**: `sendSimplePaymentNotification(Order order)`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º –∞–∫—Ç–∏–≤–Ω—ã–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º
- –§–æ—Ä–º–∞—Ç: "–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä {ID} —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω {—Å—É–º–º–∞} ‚ÇΩ ({–¥–∞—Ç–∞ –≤—Ä–µ–º—è})"
- –ë–µ–∑ markdown-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã

### 2. TelegramUserNotificationService.java  
**–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥**: `sendSimplePaymentSuccessNotification(Order order)`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ @DIMBOpizzaBot
- –¢–æ—Ç –∂–µ —Ñ–æ—Ä–º–∞—Ç —á—Ç–æ –∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –° –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ –∏ –Ω–∞–ª–∏—á–∏–µ Telegram ID

### 3. YooKassaPaymentService.java
**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ `updateOrderStatusAfterPayment()`**:
```java
// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º –æ–± –æ–ø–ª–∞—á–µ–Ω–Ω–æ–º –∑–∞–∫–∞–∑–µ
adminBotService.sendSimplePaymentNotification(updatedOrder);

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ  
telegramUserNotificationService.sendSimplePaymentSuccessNotification(updatedOrder);
```

**–î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
```java
private final AdminBotService adminBotService;
private final TelegramUserNotificationService telegramUserNotificationService;
```

---

## üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### –ü–æ–ª–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ:

```
1. üí≥ –Æ–ö–∞—Å—Å–∞ ‚Üí Webhook ‚Üí YooKassaPaymentService.processWebhookNotification()
2. üîÑ handlePaymentSucceededEvent() ‚Üí updateOrderStatusAfterPayment()
3. üìä PaymentStatusChangedEvent ‚Üí Google Sheets –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è  
4. üì± sendSimplePaymentNotification() ‚Üí –ê–¥–º–∏–Ω—ã: "–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä 34 —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω..."
5. üì± sendSimplePaymentSuccessNotification() ‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä 34 —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω..."  
6. ü§ñ NewOrderEvent ‚Üí AdminBotService ‚Üí "‚úÖ –ó–ê–ö–ê–ó –û–ü–õ–ê–ß–ï–ù —á–µ—Ä–µ–∑ –°–ë–ü" (—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ)
```

### –ò—Ç–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ:
1. **üìä Google Sheets** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã ‚úÖ
2. **üì± –ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç** - "–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä –•–• —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω..." **(–ù–û–í–û–ï)**
3. **üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –±–æ—Ç** - "–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä –•–• —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω..." **(–ù–û–í–û–ï)**  
4. **ü§ñ –ê–¥–º–∏–Ω—Å–∫–∏–π –±–æ—Ç** - "‚úÖ –ó–ê–ö–ê–ó –û–ü–õ–ê–ß–ï–ù —á–µ—Ä–µ–∑ –°–ë–ü" (—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ) ‚úÖ

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. **–°–æ–∑–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑** —á–µ—Ä–µ–∑ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Telegram
2. **–û–ø–ª–∞—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ –°–ë–ü**
3. **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
   - üìä **Google –¢–∞–±–ª–∏—Ü–∞**: —Å—Ç–∞—Ç—É—Å "–£—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω"
   - üì± **–ê–¥–º–∏–Ω—ã –ø–æ–ª—É—á–∞—é—Ç**: "–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä 34 —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω 40 ‚ÇΩ (07.09.2025 21:41)" 
   - üì± **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç**: "–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä 34 —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω 40 ‚ÇΩ (07.09.2025 21:41)" –æ—Ç @DIMBOpizzaBot
   - ü§ñ **–ê–¥–º–∏–Ω—ã –ø–æ–ª—É—á–∞—é—Ç**: "‚úÖ –ó–ê–ö–ê–ó –û–ü–õ–ê–ß–ï–ù —á–µ—Ä–µ–∑ –°–ë–ü" (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)

### –õ–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å—Ç—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
docker-compose logs app | grep "–ü—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
docker-compose logs app | grep -E "—É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω|–ó–ê–ö–ê–ó –û–ü–õ–ê–ß–ï–ù|PaymentStatusChangedEvent"
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

- **üéØ –ö—Ä–∞—Ç–∫–æ—Å—Ç—å**: –ú–∏–Ω–∏–º—É–º —Ç–µ–∫—Å—Ç–∞ - –º–∞–∫—Å–∏–º—É–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **‚ö° –ë—ã—Å—Ç—Ä–æ—Ç–∞**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—É—Ç–∏  
- **üîß –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ = –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫
- **üì± –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**: –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤—Å–µ—Ö

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ

**–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å—Ç—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

**üìã –§–æ—Ä–º–∞—Ç**: "–ó–∞–∫–∞–∑ –Ω–æ–º–µ—Ä {ID} —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω {—Å—É–º–º–∞} ‚ÇΩ ({–¥–∞—Ç–∞ –≤—Ä–µ–º—è})"  
**üì± –ü–æ–ª—É—á–∞—Ç–µ–ª–∏**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã + –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å  
**ü§ñ –ë–æ—Ç—ã**: @DIMBOpizzaOrdersBot + @DIMBOpizzaBot

---

**üéâ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ - —Ç–µ–ø–µ—Ä—å –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ–ø–ª–∞—Ç–µ –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∫—Ä–∞—Ç–∫–∏–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è!**
