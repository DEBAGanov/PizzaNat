# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∏ –∏ –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

### 1. –û—Å–Ω–æ–≤–Ω–æ–π —Å—á–µ—Ç—á–∏–∫ –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∏
–ö–æ–¥ —Å—á–µ—Ç—á–∏–∫–∞ —Å ID `103585127` –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤–æ –≤—Å–µ HTML —Ñ–∞–π–ª—ã –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- `index.html` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `menu.html` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–µ–Ω—é
- `checkout.html` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞  
- `test-api.html` - —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ—Ç—Ä–∏–∫–∏
–í–∫–ª—é—á–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `webvisor: true` - –∑–∞–ø–∏—Å—å —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `clickmap: true` - —Ç–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∫–ª–∏–∫–æ–≤
- `ecommerce: "dataLayer"` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏
- `accurateTrackBounce: true` - —Ç–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –æ—Ç–∫–∞–∑–æ–≤
- `trackLinks: true` - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –ø–æ —Å—Å—ã–ª–∫–∞–º

### 3. –°–æ–±—ã—Ç–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏
–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–æ–±—ã—Ç–∏–π:

#### üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:
- **`begin_checkout`** - –Ω–∞—á–∞–ª–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ (checkout.html)
- **`add_to_cart`** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É (–≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
- **`purchase`** - —Å–æ–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞)

#### üìà –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```javascript
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
{
  event: 'add_to_cart',
  ecommerce: {
    add_to_cart: {
      currency: 'RUB',
      value: <—Ü–µ–Ω–∞ * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ>,
      items: [{
        item_id: <ID —Ç–æ–≤–∞—Ä–∞>,
        item_name: <–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞>,
        category: '–ï–¥–∞',
        quantity: <–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ>,
        price: <—Ü–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É>
      }]
    }
  }
}

// –ü–æ–∫—É–ø–∫–∞
{
  event: 'purchase',
  ecommerce: {
    purchase: {
      transaction_id: <ID –∑–∞–∫–∞–∑–∞>,
      value: <—Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞>,
      currency: 'RUB',
      items: [–º–∞—Å—Å–∏–≤ —Ç–æ–≤–∞—Ä–æ–≤]
    }
  }
}
```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –≤—ã —É–≤–∏–¥–∏—Ç–µ –ª–æ–≥–∏:
```
üìä YM E-commerce tracking: add_to_cart {–¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞}
üìä YM E-commerce tracking: begin_checkout {–¥–∞–Ω–Ω—ã–µ –∫–æ—Ä–∑–∏–Ω—ã}
üìä YM E-commerce tracking: purchase {–¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞}
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ dataLayer
–í –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
console.log(window.dataLayer);
```

### 3. –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ –ø–∞–Ω–µ–ª—å
- –ó–∞–π–¥–∏—Ç–µ –≤ [https://metrika.yandex.ru](https://metrika.yandex.ru)
- –í—ã–±–µ—Ä–∏—Ç–µ —Å—á–µ—Ç—á–∏–∫ `103585127`
- –ß–µ—Ä–µ–∑ 2-3 —á–∞—Å–∞ –ø–æ—è–≤—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö:
  - "–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º–µ—Ä—Ü–∏—è"
  - "–ö–∞—Ä—Ç—ã –∫–ª–∏–∫–æ–≤" 
  - "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞" ‚Üí "–í–æ—Ä–æ–Ω–∫–∏"

## üéØ –¶–µ–ª–∏ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏

–í –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–¥—É—Ç—Å—è —Ü–µ–ª–∏:
- `add_to_cart` - –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
- `begin_checkout` - –Ω–∞—á–∞–ª–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- `purchase` - –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏

## üì± –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è Telegram Mini App

1. **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Telegram WebApp API
2. **–°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è**: –∫–∞–∫ —Ü–µ–ª–∏ (`ym('reachGoal')`) —Ç–∞–∫ –∏ –≤ `dataLayer` –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏
3. **–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫**: –≤—Å–µ –≤—ã–∑–æ–≤—ã –æ–±–µ—Ä–Ω—É—Ç—ã –≤ `try-catch` –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –î–∞–Ω–Ω—ã–µ –Ω–∞—á–Ω—É—Ç —Å–æ–±–∏—Ä–∞—Ç—å—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

---
**–î–∞—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**: $(date '+%d.%m.%Y')
**ID —Å—á–µ—Ç—á–∏–∫–∞**: 103585127
