<!-- Generated by SpecStory -->

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ (2025-07-01 21:14:06)

_**User**_

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç –∏ —Ñ–∞–π–ª—ã –ø–∞–ø–∫–∏ @/docs   –º–Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤ CORS      'https://pizzanat.ru',
    'https://www.pizzanat.ru',
    'http://localhost:5173', // –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
    'http://localhost:3000'  // –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

_**Assistant**_

–Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –ø—Ä–æ–µ–∫—Ç –∏ –Ω–∞–π–¥—É, –≥–¥–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤. –î–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é CORS –≤ –ø—Ä–æ–µ–∫—Ç–µ.

---

<details>
            <summary>Searched codebase "CORS configuration" ‚Ä¢ **25** results</summary>
        
| File | Lines |
|------|-------|
| `src/main/java/com/baganov/pizzanat/config/WebConfig.java` | L1-30 |
| `src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L36-80 |
| `docs/DOMAIN_SETUP_GUIDE.md` | L115-162 |
| `src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L176-227 |
| `src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L1-36 |
| `docs/DOMAIN_SETUP_GUIDE.md` | L1-47 |
| `src/main/resources/application.properties` | L147-185 |
| `docker-compose.production.yml` | L1-46 |
| `src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L148-176 |
| `scripts/test_cors_configuration.sh` | L96-153 |
| `scripts/test_cors_configuration.sh` | L1-60 |
| `scripts/test_cors_configuration.sh` | L153-215 |
| `docs/DOMAIN_SETUP_GUIDE.md` | L47-115 |
| `docs/DOMAIN_SETUP_GUIDE.md` | L162-223 |
| `scripts/test_cors_configuration.sh` | L215-260 |
| `env-yookassa-stage6.txt` | L88-119 |
| `scripts/test_cors_configuration.sh` | L260-276 |
| `docs/MOBILE_YOOKASSA_INTEGRATION_GUIDE.md` | L398-438 |
| `scripts/test_cors_configuration.sh` | L60-96 |
| `src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L126-148 |
| `src/main/resources/application.properties` | L59-111 |
| `docs/Tasktracker.md` | L329-351 |
| `src/main/resources/application.properties` | L111-147 |
| `docs/DOMAIN_SETUP_GUIDE.md` | L223-228 |
| `src/test/java/com/baganov/pizzanat/config/TestSecurityConfig.java` | L1-40 |

</details>

---

<details>
            <summary>Grep search for "@CrossOrigin" ‚Ä¢ **1** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15298 | `@CrossOrigin(origins = {"https://pizzanat.ru", "http://localhost:3000"})` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15375 | `<summary>Grep search for "@CrossOrigin" ‚Ä¢ **0** files</summary>` |

</details>

---

<details>
            <summary>Grep search for "CorsConfiguration" ‚Ä¢ **6** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L27 | `import org.springframework.web.cors.CorsConfiguration;` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L28 | `import org.springframework.web.cors.CorsConfigurationSource;` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L29 | `import org.springframework.web.cors.UrlBasedCorsConfigurationSource;` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L154 | `.cors(cors -> cors.configurationSource(corsConfigurationSource()))` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L162 | `.cors(cors -> cors.configurationSource(corsConfigurationSource()))` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L178 | `public CorsConfigurationSource corsConfigurationSource() {` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L179 | `CorsConfiguration configuration = new CorsConfiguration();` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L190 | `UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L191 | `source.registerCorsConfiguration("/**", configuration);` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-22_12-10-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F-%D0%B8-%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L39706 | `.cors(cors -> cors.configurationSource(corsConfigurationSource()))` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-22_12-10-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F-%D0%B8-%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L39715 | `.cors(cors -> cors.configurationSource(corsConfigurationSource()))` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-22_12-10-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F-%D0%B8-%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L39731 | `UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-12_15-33-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-%D0%B1%D0%BE%D1%82%D0%BE%D0%BC.md` | L23674 | `.cors(cors -> cors.configurationSource(corsConfigurationSource()))` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-23_06-14-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-swagger.md` | L18264 | `import org.springframework.web.cors.CorsConfiguration;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-23_06-14-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-swagger.md` | L18265 | `import org.springframework.web.cors.CorsConfigurationSource;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-23_06-14-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-swagger.md` | L18387 | `import org.springframework.web.cors.CorsConfiguration;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-23_06-14-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-swagger.md` | L18388 | `import org.springframework.web.cors.CorsConfigurationSource;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L595 | `+ import org.springframework.web.cors.CorsConfiguration;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L596 | `+ import org.springframework.web.cors.CorsConfigurationSource;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L597 | `+ import org.springframework.web.cors.UrlBasedCorsConfigurationSource;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L626 | `+                 .cors(cors -> cors.configurationSource(corsConfigurationSource()))` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L638 | `+     public CorsConfigurationSource corsConfigurationSource() {` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L639 | `+         CorsConfiguration configuration = new CorsConfiguration();` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L645 | `+         UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L646 | `+         source.registerCorsConfiguration("/**", configuration);` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L22109 | `.cors(cors -> cors.configurationSource(corsConfigurationSource()))` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L23713 | `+                     .cors(cors -> cors.configurationSource(corsConfigurationSource()))` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15389 | `‚ü™ 106 characters skipped ‚ü´ | `import org.springframework.web.cors.CorsConfiguration;` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15390 | `‚ü™ 106 characters skipped ‚ü´ | `import org.springframework.web.cors.CorsConfigurationSource;` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15391 | `‚ü™ 114 characters skipped ‚ü´rt org.springframework.web.cors.UrlBasedCorsConfigurationSource;` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15392 | `‚ü™ 110 characters skipped ‚ü´`.cors(cors -> cors.configurationSource(corsConfigurationSource()))` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15393 | `‚ü™ 110 characters skipped ‚ü´`.cors(cors -> cors.configurationSource(corsConfigurationSource()))` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15394 | `| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L150 | `public CorsConfigurationSource corsConfigurationSource() {` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15395 | `| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L151 | `CorsConfiguration configuration = new CorsConfiguration();` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15396 | `| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L158 | `UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15397 | `| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L159 | `source.registerCorsConfiguration("/**", configuration);` |` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15454 | `public CorsConfigurationSource corsConfigurationSource() {` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15455 | `CorsConfiguration configuration = new CorsConfiguration();` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15491 | `UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15585 | `UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();` |

</details>

---

<details>
            <summary>Grep search for "allowedOrigins" ‚Ä¢ **5** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/WebConfig.java` | L17 | `private String[] allowedOrigins;` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/WebConfig.java` | L22 | `.allowedOrigins(allowedOrigins)` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L52 | `private String[] corsAllowedOrigins;` |
| `file:///Users/a123/Cursor/PizzaNat/src/main/java/com/baganov/pizzanat/config/SecurityConfig.java` | L182 | `configuration.setAllowedOrigins(Arrays.asList(corsAllowedOrigins));` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-12_15-33-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-%D0%B1%D0%BE%D1%82%D0%BE%D0%BC.md` | L21643 | `–ü—Ä–æ–±–ª–µ–º–∞ –≤ CORS! –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö CORS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `setAllowedOrigins(List.of("*"))`, –Ω–æ —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å credentials. –î–ª—è Postman –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ origins –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `setAllowCredentials(false)`. –î–∞–≤–∞–π—Ç–µ –∏—Å–ø—Ä–∞–≤–∏–º —ç—Ç–æ:` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-12_15-33-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-%D0%B1%D0%BE%D1%82%D0%BE%D0%BC.md` | L21775 | `+ - **–û–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `setAllowedOriginPatterns` –≤–º–µ—Å—Ç–æ `setAllowedOrigins`` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-12_15-33-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-%D0%B1%D0%BE%D1%82%D0%BE%D0%BC.md` | L22668 | `+ - **CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `setAllowedOriginPatterns` –≤–º–µ—Å—Ç–æ `setAllowedOrigins`` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-12_15-33-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-%D0%B1%D0%BE%D1%82%D0%BE%D0%BC.md` | L22828 | `- –ó–∞–º–µ–Ω–∏–ª `setAllowedOrigins(List.of("*"))` –Ω–∞ `setAllowedOriginPatterns(List.of("*"))`` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-12_15-33-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0-%D0%B8-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D1%8B-%D1%81-%D0%B1%D0%BE%D1%82%D0%BE%D0%BC.md` | L26820 | `- - **–û–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `setAllowedOriginPatterns` –≤–º–µ—Å—Ç–æ `setAllowedOrigins`` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L640 | `+         configuration.setAllowedOrigins(List.of("*"));` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L8004 | `.allowedOrigins("*")` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-05-06_19-43-%D0%BF%D0%BB%D0%B0%D0%BD-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B8%D1%86%D1%86%D1%8B.md` | L20222 | `.allowedOrigins("*")` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15434 | `+     private String[] allowedOrigins;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15439 | `-                 .allowedOrigins("*")` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15442 | `+                 .allowedOrigins(allowedOrigins)` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15463 | `+         configuration.setAllowedOrigins(Arrays.asList(` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15530 | `+     private String[] corsAllowedOrigins;` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15553 | `-         configuration.setAllowedOrigins(Arrays.asList(` |
| `file:///Users/a123/Cursor/PizzaNat/.specstory/history/2025-06-23_14-54-%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7-%D0%B8-%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D1%81-api.md` | L15560 | `+         configuration.setAllowedOrigins(Arrays.asList(corsAllowedOrigins));` |

</details>

---

–û—Ç–ª–∏—á–Ω–æ! –Ø –Ω–∞—à–µ–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é CORS –≤ –ø—Ä–æ–µ–∫—Ç–µ. –í–∏–∂—É, —á—Ç–æ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ –¥–≤—É—Ö —Ñ–∞–π–ª–∞—Ö:

1. `WebConfig.java` - –¥–ª—è Spring MVC CORS
2. `SecurityConfig.java` - –¥–ª—è Spring Security CORS

–°–µ–π—á–∞—Å —è –ø–æ—Å–º–æ—Ç—Ä—é —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ–±–Ω–æ–≤–ª—é –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤–∞—à–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏.

---

Read file: src/main/java/com/baganov/pizzanat/config/WebConfig.java

---

Read file: src/main/resources/application.properties

---

–¢–µ–ø–µ—Ä—å —è –≤–∏–∂—É —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS. –ú–Ω–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏—Ö, –¥–æ–±–∞–≤–∏–≤ `https://www.pizzanat.ru` –∏ `http://localhost:5173`. –°–µ–π—á–∞—Å —è –æ–±–Ω–æ–≤–ª—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `application.properties`:

---



---

–¢–µ–ø–µ—Ä—å –º–Ω–µ –Ω—É–∂–Ω–æ —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–∏—Ç—å WebConfig.java, —á—Ç–æ–±—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–∏—Ç—å –Ω–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã:

---



---

–¢–µ–ø–µ—Ä—å –º–Ω–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å SecurityConfig.java:

---

Read file: src/main/java/com/baganov/pizzanat/config/SecurityConfig.java

---

–¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—é SecurityConfig.java:

---



---

–¢–µ–ø–µ—Ä—å –º–Ω–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å docker-compose —Ñ–∞–π–ª—ã, —á—Ç–æ–±—ã –æ–Ω–∏ —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∏ –Ω–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º docker-compose.production.yml:

---



---

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∏–º –∏ –æ–±–Ω–æ–≤–∏–º –¥—Ä—É–≥–∏–µ docker-compose —Ñ–∞–π–ª—ã:

---

<details>
            <summary>Grep search for "CORS_ALLOWED_ORIGINS" ‚Ä¢ **2** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/a123/Cursor/PizzaNat/docker-compose.production.yml` | L38 | `CORS_ALLOWED_ORIGINS: ${CORS_ALLOWED_ORIGINS:-https://pizzanat.ru,https://www.pizzanat.ru,https://api.pizzanat.ru,http://localhost:5173,http://localhost:3000,http://localhost:8080}` |
| `file:///Users/a123/Cursor/PizzaNat/docker-compose.production.yml` | L38 | `CORS_ALLOWED_ORIGINS: ${CORS_ALLOWED_ORIGINS:-https://pizzanat.ru,https://www.pizzanat.ru,https://api.pizzanat.ru,http://localhost:5173,http://localhost:3000,http://localhost:8080}` |

</details>

---

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∏–º env —Ñ–∞–π–ª—ã:

---

<details>
            <summary>Grep search for "CORS_ALLOWED_ORIGINS" ‚Ä¢ **1** files</summary>
        
| File | Line | Match |
|------|------|-------|
| `file:///Users/a123/Cursor/PizzaNat/env-yookassa-stage6.txt` | L106 | `CORS_ALLOWED_ORIGINS=http://localhost:3000,https://pizzanat.ru,https://api.pizzanat.ru,android-app://com.pizzanat.app,ios-app://com.pizzanat.app` |

</details>

---

–û–±–Ω–æ–≤–ª—é env —Ñ–∞–π–ª:

---



---

–¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é. –°–Ω–∞—á–∞–ª–∞ –æ–±–Ω–æ–≤–ª—é changelog.md:

---

Read file: docs/changelog.md

---

–¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—é –∑–∞–ø–∏—Å—å –≤ changelog.md:

---



---

–¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—é Tasktracker.md:

---

Read file: docs/Tasktracker.md

---

–¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–ª—é –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –≤ Tasktracker.md:

---



---

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–º –Ω–µ–±–æ–ª—å—à–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö CORS –Ω–∞—Å—Ç—Ä–æ–µ–∫:

---

```diff
- 
+ #!/bin/bash
+ 
+ # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö CORS –¥–æ–º–µ–Ω–æ–≤ –¥–ª—è PizzaNat
+ # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ https://www.pizzanat.ru –∏ http://localhost:5173
+ 
+ set -e
+ 
+ # –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
+ RED='\033[0;31m'
+ GREEN='\033[0;32m'
+ YELLOW='\033[1;33m'
+ BLUE='\033[0;34m'
+ NC='\033[0m' # No Color
+ 
+ echo -e "${BLUE}üåê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö CORS –¥–æ–º–µ–Ω–æ–≤${NC}"
+ echo "=========================================="
+ echo
+ 
+ # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±–∞–∑–æ–≤—ã–π URL
+ if curl -s "http://localhost:8080/api/v1/health" >/dev/null 2>&1; then
+     BASE_URL="http://localhost:8080"
+ elif [[ "${PIZZANAT_URL:-}" ]]; then
+     BASE_URL="$PIZZANAT_URL"
+ else
+     echo -e "${RED}‚ùå API —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω${NC}"
+     echo "–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ localhost:8080"
+     echo "–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é PIZZANAT_URL"
+     exit 1
+ fi
+ 
+ echo -e "${BLUE}üéØ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π API: $BASE_URL${NC}"
+ echo
+ 
+ # –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CORS
+ test_cors_domain() {
+     local domain="$1"
+     local description="$2"
+     
+     echo -e "${YELLOW}üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: $description${NC}"
+     echo "   üîó Origin: $domain"
+     
+     # –í—ã–ø–æ–ª–Ω—è–µ–º preflight –∑–∞–ø—Ä–æ—Å
+     response=$(curl -s -w "\n%{http_code}" \
+         -X OPTIONS \
+         -H "Origin: $domain" \
+         -H "Access-Control-Request-Method: GET" \
+         -H "Access-Control-Request-Headers: Authorization,Content-Type" \
+         "$BASE_URL/api/v1/health" 2>/dev/null || echo -e "\n000")
+     
+     # –†–∞–∑–¥–µ–ª—è–µ–º –æ—Ç–≤–µ—Ç –∏ –∫–æ–¥ —Å—Ç–∞—Ç—É—Å–∞
+     http_code=$(echo "$response" | tail -1)
+     headers=$(echo "$response" | head -n -1)
+     
+     echo "   üìä HTTP Code: $http_code"
+     
+     # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ CORS
+     allow_origin=$(echo "$headers" | grep -i "access-control-allow-origin" | head -1 || echo "")
+     
+     if [[ "$http_code" == "200" || "$http_code" == "204" ]]; then
+         if [[ -n "$allow_origin" && "$allow_origin" == *"$domain"* ]]; then
+             echo -e "   ‚úÖ ${GREEN}–£–°–ü–ï–•${NC} - CORS –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è"
+         elif [[ -n "$allow_origin" ]]; then
+             echo -e "   ‚ö†Ô∏è  ${YELLOW}–ß–ê–°–¢–ò–ß–ù–û${NC} - CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è"
+             echo "   üìã –ó–∞–≥–æ–ª–æ–≤–æ–∫: $allow_origin"
+         else
+             echo -e "   ‚ùå ${RED}–û–®–ò–ë–ö–ê${NC} - CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"
+         fi
+     else
+         echo -e "   ‚ùå ${RED}–û–®–ò–ë–ö–ê${NC} - –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π HTTP –∫–æ–¥: $http_code"
+     fi
+     
+     echo
+ }
+ 
+ # –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã
+ echo -e "${BLUE}üìã –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–û–í–´–• –î–û–ú–ï–ù–û–í${NC}"
+ echo "--------------------------------"
+ 
+ test_cors_domain "https://www.pizzanat.ru" "WWW –≤–µ—Ä—Å–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞"
+ test_cors_domain "http://localhost:5173" "Vite dev server"
+ 
+ echo -e "${BLUE}üìã –ü–†–û–í–ï–†–ö–ê –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –î–û–ú–ï–ù–û–í${NC}"
+ echo "------------------------------------"
+ 
+ test_cors_domain "https://pizzanat.ru" "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω"
+ test_cors_domain "http://localhost:3000" "React dev server"
+ 
+ echo -e "${BLUE}üìã –†–ï–ó–£–õ–¨–¢–ê–¢${NC}"
+ echo "=============="
+ echo -e "‚úÖ ${GREEN}–ù–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é${NC}"
+ echo -e "üîß ${YELLOW}–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ:${NC} ./scripts/test_cors_configuration.sh"
+ echo -e "üìö ${BLUE}–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≤ changelog.md –∏ Tasktracker.md${NC}"
+ echo
+ 
+ exit 0 
```

---

–¢–µ–ø–µ—Ä—å —Å–¥–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

---

```bash
chmod +x scripts/test_new_cors_domains.sh
```

```
a123@MacBookAir PizzaNat % 

```

---

–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã:

## ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã

–Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –ø—Ä–æ–µ–∫—Ç –∏ –æ–±–Ω–æ–≤–∏–ª CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö –¥–æ–º–µ–Ω–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É. –í–æ—Ç —á—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### üéØ –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã:
- ‚úÖ `https://www.pizzanat.ru` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ www-–≤–µ—Ä—Å–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞  
- ‚úÖ `http://localhost:5173` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Vite dev server –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–æ–º–µ–Ω—ã: `https://pizzanat.ru`, `https://api.pizzanat.ru`, `http://localhost:3000`, `http://localhost:8080`

### üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **`src/main/resources/application.properties`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `app.cors.allowed-origins`
2. **`src/main/java/com/baganov/pizzanat/config/WebConfig.java`** - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. **`src/main/java/com/baganov/pizzanat/config/SecurityConfig.java`** - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  
4. **`docker-compose.production.yml`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `CORS_ALLOWED_ORIGINS`
5. **`env-yookassa-stage6.txt`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### üìö –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **`docs/changelog.md`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–ø–∏—Å—å –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ CORS
- **`docs/Tasktracker.md`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–∞—á–∞ —Å –¥–µ—Ç–∞–ª—è–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **`scripts/test_new_cors_domains.sh`** - —Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –¥–æ–º–µ–Ω–æ–≤

### üöÄ –ò—Ç–æ–≥–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –¥–æ–º–µ–Ω–æ–≤:

**–ü—Ä–æ–¥–∞–∫—à–µ–Ω:**
- `https://pizzanat.ru`
- `https://www.pizzanat.ru` ‚ú® **–ù–û–í–´–ô**
- `https://api.pizzanat.ru`

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
- `http://localhost:5173` ‚ú® **–ù–û–í–´–ô** (Vite)
- `http://localhost:3000` (React/Next.js)
- `http://localhost:8080` (Backend)

**–ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- `android-app://com.pizzanat.app`
- `ios-app://com.pizzanat.app`

### üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–æ–º–µ–Ω–æ–≤
./scripts/test_new_cors_domains.sh

# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CORS
./scripts/test_cors_configuration.sh

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
docker-compose restart
```

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ SOLID –∏ —Å–ª–µ–¥—É—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞. CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∫–∞–∫ www-–≤–µ—Ä—Å–∏—é –¥–æ–º–µ–Ω–∞, —Ç–∞–∫ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∫ Vite.

---

